<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>ngh - Proyectos</title>

        <!-- material icons -->
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
        />

        <style>
            .material-symbols-outlined {
                font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0,
                    "opsz" 24;
            }
        </style>

        <!-- styles -->
        <link rel="stylesheet" href="/assets/styles/css/main.css" />

        <!-- GSAP -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.4/gsap.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.4/ScrollTrigger.min.js"></script>
    </head>

    <body class="light-mode vsc-initialized">
        <div class="cursor-dot"></div>

        <header class="init">
            <section class="left">
                <!-- back button -->
                <a id="back" href="#">
                    <span class="material-symbols-outlined icon">
                        arrow_back_ios_new
                    </span>
                </a>

                <!-- logo -->
                <section class="logo hoverable">
                    <a href="\">ngh</a>
                </section>
            </section>

            <!-- barra de navegacion -->
            <nav>
                <ul>
                    <li class="drop-line">
                        <a href="/contact/" class="hoverable">CONTACTO</a>
                    </li>

                    <li class="lang hoverable">ES</li>

                    <li class="switch-modes hoverable">
                        <span class="material-symbols-outlined">
                            light_mode
                        </span>
                    </li>

                    <li class="menu hoverable menu-closed">
                        <span class="material-symbols-outlined"> apps </span>
                        <div class="menu-container not-hoverable">
                            <ul class="not-hoverable">
                                <li class="not-hoverable">
                                    <a class="hoverable" href="/">HOME</a>
                                </li>
                                <li class="not-hoverable">
                                    <a class="hoverable" href="/work/"
                                        >PROYECTOS</a
                                    >
                                </li>
                                <li class="not-hoverable">
                                    <a class="hoverable" href="/contact/"
                                        >CONTACTO</a
                                    >
                                </li>
                                <li class="not-hoverable">
                                    <a
                                        class="hoverable"
                                        href="/assets/pdf/cv_nicolas_godoy_hassan.pdf"
                                        >DESCARGAR CV</a
                                    >
                                </li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </nav>
        </header>

        <script>
            const mode = localStorage.getItem("siteMode");
            const switchModes = document.querySelector(".switch-modes");

            if (mode) {
                const body = document.querySelector("body");

                if (mode == "light") {
                    if (body.classList.contains("dark-mode")) {
                        body.classList.remove("dark-mode");
                        body.classList.add("light-mode");

                        switchModes.innerHTML = `
                <span class="material-symbols-outlined">
                    light_mode
                </span>
                `;
                    }
                } else {
                    if (body.classList.contains("light-mode")) {
                        body.classList.remove("light-mode");
                        body.classList.add("dark-mode");

                        switchModes.innerHTML = `
                <span class="material-symbols-outlined">
                dark_mode
                </span>
`;
                    }
                }
            }

            switchModes.addEventListener("click", () => {
                const body = document.querySelector("body");

                if (body.classList.contains("light-mode")) {
                    body.classList.remove("light-mode");
                    body.classList.add("dark-mode");

                    switchModes.innerHTML = `
                <span class="material-symbols-outlined">
                    dark_mode
                </span>
                `;
                    localStorage.setItem("siteMode", "dark");
                } else {
                    body.classList.remove("dark-mode");
                    body.classList.add("light-mode");

                    switchModes.innerHTML = `
                <span class="material-symbols-outlined">
                    light_mode
                </span>
`;
                    localStorage.setItem("siteMode", "light");
                }
            });

            const cursorDot = document.querySelector(".cursor-dot");

            window.addEventListener("mousemove", (e) => {
                const posX = e.clientX;
                const posY = e.clientY;

                cursorDot.animate(
                    {
                        left: `${posX}px`,
                        top: `${posY}px`,
                    },
                    { duration: 150, fill: "forwards" }
                );
            });

            document.addEventListener("DOMContentLoaded", () => {
                const links = document.querySelectorAll(".hoverable");

                links.forEach((link) => {
                    link.addEventListener("mouseover", (e) => {
                        if (e.target.classList.contains("not-hoverable")) {
                            return;
                        }

                        cursorDot.style.height = "50px";
                        cursorDot.style.width = "50px";
                        cursorDot.style.background = "#828DF7";
                    });

                    link.addEventListener("mouseout", () => {
                        cursorDot.style.height = "";
                        cursorDot.style.width = "";
                        cursorDot.style.background = "";
                    });
                });
            });
        </script>

        <script>
            const menu = document.querySelector(".menu");
            const menuIcon = menu.querySelector("span");
            let backBtn = document.querySelector("#back");

            const handleBackBtn = () => {
                if (backBtn) {
                    backBtn.classList.add("hidden");
                } else {
                    backBtn.classList.remove("hidden");
                }
            };

            menu.addEventListener("click", (e) => {
                const test = e.currentTarget.children[1];

                if (e.target.tagName == "DIV") {
                    return;
                }

                if (e.currentTarget.classList.contains("menu-closed")) {
                    e.currentTarget.classList.remove("menu-closed");
                    e.currentTarget.classList.add("menu-open");

                    handleBackBtn();

                    menuIcon.style.opacity = "0";

                    setTimeout(() => {
                        test.style.transform = "translateX(0)";
                    }, 1);

                    setTimeout(() => {
                        menuIcon.innerHTML = `close`;
                        menuIcon.style.opacity = "1";
                    }, 150);
                } else {
                    const target = e.currentTarget;

                    handleBackBtn();

                    test.style.transform = "translateX(100vw)";
                    menuIcon.style.opacity = "0";

                    setTimeout(() => {
                        menuIcon.innerHTML = `apps`;
                        menuIcon.style.opacity = "1";
                    }, 150);

                    setTimeout(() => {
                        target.classList.remove("menu-open");
                        target.classList.add("menu-closed");
                    }, 300);
                }
            });
        </script>

        <style>
            #back {
                font-family: "Plus Jakarta Sans";
            }

            header > section.left {
                display: flex;
                gap: 10px;
                flex-direction: row;
                align-items: flex-end;
            }

            header a#back {
                text-decoration: none;
                color: #555;
                display: flex;
                flex-direction: row;
                align-items: center;
            }
            header a#back span.icon {
                margin-right: 10px;
                padding: 8px;
                background: #f7f7f7;
                border-radius: 8px;
                font-size: 11px;
                font-variation-settings: "wght" 600;
                color: #655a78;
            }

            header.dark a#back span.icon {
                background: #222;
            }

            header a#back span.hidden {
                display: none;
            }

            span.text {
                font-weight: 500;
                font-size: 16px;
                color: #555;
            }

            .dark-mode header a#back span.icon {
                background: #222;
                color: #756492;
            }

            .dark-mode header a#back span.text {
                color: #fff;
            }
        </style>

        <script>
            document.querySelector("#back").addEventListener("click", () => {
                window.location.href = document.referrer || "/";
            });
        </script>

        <section id="projects" class="projects-page">
            <h2>PROYECTOS</h2>

            <section class="projects">
                <a href="./project/sportivoescobar/" class="project hoverable">
                    <img
                        src="/assets/images/projects_portrait/sportivo.jpg"
                        alt=""
                    />

                    <div class="info">
                        <div class="type">Diseño & Desarrollo</div>
                        <div class="name">Sportivo Escobar</div>
                    </div>
                </a>

                <a href="./project/talkfi/" class="project hoverable">
                    <img
                        src="/assets/images/projects_portrait/talkfi.jpg"
                        alt=""
                    />

                    <div class="info">
                        <div class="type">Diseño & Desarrollo</div>
                        <div class="name">TalkFi</div>
                    </div>
                </a>

                <a href="./project/ciieescobar/" class="project hoverable">
                    <img
                        src="/assets/images/projects_portrait/ciie.jpg"
                        alt=""
                    />

                    <div class="info">
                        <div class="type">Diseño & Desarrollo</div>
                        <div class="name">CIIE Escobar</div>
                    </div>
                </a>

                <a href="./project/eest3savio/" class="project hoverable">
                    <img
                        src="/assets/images/projects_portrait/eest3.jpg"
                        alt=""
                    />

                    <div class="info">
                        <div class="type">Diseño & Desarrollo</div>
                        <div class="name">E.E.S.T. N°3 "Eva Perón"</div>
                    </div>
                </a>

                <a href="./project/precisar/" class="project hoverable">
                    <img
                        src="/assets/images/projects_portrait/precisar.jpg"
                        alt=""
                    />

                    <div class="info">
                        <div class="type">Diseño & Desarrollo</div>
                        <div class="name">Precisar</div>
                    </div>
                </a>
            </section>
        </section>

        <section id="footer">
            <div class="text">
                <h2>LLEGASTE AL FINAL</h2>
                <p>Tal vez sea momento de escribirnos.</p>

                <a href="/contact/" class="hoverable"
                    >CONTACTAME

                    <span class="material-symbols-outlined">
                        arrow_outward
                    </span>
                </a>
            </div>
        </section>

        <script>
            const checkInitHeader = () => {
                if (window.scrollY <= 10) {
                    document.querySelector("header").classList.add("init");
                } else {
                    document.querySelector("header").classList.remove("init");
                }
            };

            window.addEventListener("scroll", function () {
                // Verificar si el usuario está cerca del final del documento
                if (
                    window.innerHeight + window.scrollY >=
                    document.body.offsetHeight - 10
                ) {
                    document.querySelector("header").classList.add("dark");
                    document.querySelector("#projects").classList.add("dark");

                    // Puedes realizar acciones aquí cuando llegas al final del documento
                } else {
                    document.querySelector("header").classList.remove("dark");
                    document
                        .querySelector("#projects")
                        .classList.remove("dark");
                }

                checkInitHeader();
            });

            window.addEventListener("DOMContentLoaded", checkInitHeader);
        </script>
    </body>
</html>
